<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>タイマー</title>
<link rel="stylesheet" href="../../common/css/common.css">
<link rel="icon" href="../../favicon.ico">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css">
<body>
<section>
  <div class="l-contentsWrap -bgWhite">
    <h1 class="c-largeTitle">タイマーのSample</h1>
    <section>
      <h2 class="c-middleTitle">概要</h2>

      <p id="timer"></p>
      <button id="start">start</button>
      <button id="stop">stop</button>
      <button id="reset">reset</button>

      <pre>
        <code class="javascript">
;(function() {
  'use strict';
      var passedTime = 0;
      var intervalId = null;
      var timer = document.getElementById('timer');

      function start() {
          if(intervalId != null) {
              return
          }

          intervalId = setInterval(function(){
              passedTime++;
              render();
          }, 1000);
      }

      function stop() {
          if(intervalId != null) {
              clearInterval(intervalId);
              intervalId = null
          }
      }

      function reset() {
          stop();
          passedTime = 0;
          render();
      }

      function render() {
          var minutes = Math.floor(passedTime / 60);
          var seconds = passedTime % 60;
          timer.textContent = zeroFill(minutes) + ':' + zeroFill(seconds);
      }

      render();

      function zeroFill(num) {
          return ('0' + num).slice(-2);
      }

      document.getElementById('start').addEventListener('click', start);
      document.getElementById('stop').addEventListener('click', stop);
      document.getElementById('reset').addEventListener('click', reset);

  }());
        </code>
      </pre>

      <p><a href="../">&gt; TOPに戻る</a></p>
    </section>
  </div>
</section>
<script src="../../common/js/jquery-3.2.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script src="script.js"></script>
<script>
;(function($){
  hljs.initHighlightingOnLoad();
})(jQuery)
</script>
</body>
</html>
